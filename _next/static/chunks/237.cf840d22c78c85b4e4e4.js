"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[237],{4703:function(t,e,a){a.r(e),a.d(e,{default:function(){return l}});var n=a(1749),i=a(1120),r=a(7294),c=a(8743),o=c.ZP.getState().imageMultiplier;function s(t){var e=t.amount,a=void 0===e?4+2*t.order:e,n=t.rotation,i=void 0===n?0:n,r=t.scale,c=void 0===r?1:r,s=t.size,u=void 0===s?100*o:s;return{amount:a,distance:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60,e=arguments.length>1?arguments[1]:void 0;return t*e*o}(t.distance,t.order),rotation:i,step:Math.ceil(360/a),scale:c,size:u}}var u=a(4155);function d(t,e){for(var a=c.ZP.getState().mediaPath,n=c.ZP.getState().colorMode,i=s(e),r=i.amount,d=i.distance,f=i.rotation,h=i.step,l=i.scale,v=i.size,m=n?c.Li:c.Pr,g=function(n){var i=function(t,e,a,n){var i=e/(a/2)*Math.PI;return{imageX:n*Math.cos(i)+t.canvas.width*o/2,imageY:n*Math.sin(i)+t.canvas.height*o/2}}(t,n,r,d),c=i.imageX,s=i.imageY,g=function(t,e,a){return e+a*t*Math.PI/180}(n,f,h),p=new Image;p.onload=function(){t.setTransform(l,0,0,l,c,s),t.rotate(g),t.drawImage(p,-v/2,-v/2,v,v)},p.src="".concat(u.env.pathPrefix,"/images/").concat(a).concat(e.source).concat(m)},p=0;p<r;p++)g(p)}var f=a(5893),h=(0,i.Z)((function(){return{mandala:{width:"100%",height:"100%",maxWidth:"fit-content","@media print":{maxWidth:"80vw"}}}})),l=function(){var t=h(),e=function(){var t=(0,r.useRef)(null),e=(0,c.ZP)(),a=e.colorMode,n=e.getSelectedElements,i=e.imageMultiplier,o=e.media;return(0,r.useEffect)((function(){if(o.length>0&&t.current){var e=t.current.getContext("2d");e&&(e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,e.canvas.width*i,e.canvas.height*i),n().forEach((function(t){return d(e,t)})))}}),[a,n,i,o]),{canvasRef:t}}().canvasRef;return(0,f.jsx)(n.Z,{container:!0,justifyContent:"center",item:!0,xs:12,children:(0,f.jsx)("canvas",{ref:e,className:t.mandala,id:"plantalaCanvas",width:"800",height:"800"})})}}}]);