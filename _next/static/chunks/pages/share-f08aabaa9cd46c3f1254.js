(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[347],{1685:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(5893),a=t(1664);function i(e){var n=e.children,t=e.href;return t.startsWith("/")||""===t?(0,r.jsx)(a.default,{href:t,passHref:!0,children:(0,r.jsx)("a",{children:n})}):(0,r.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer",children:n})}},9744:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var r=t(5893),a=t(5258),i=t(8358),c=t(2318),o=t(1685),s=t(8743).ZP.getState().mediaPath;function u(){return(0,r.jsx)(a.Z,{position:"static",children:(0,r.jsxs)(i.Z,{children:[(0,r.jsx)(o.Z,{href:"/",children:(0,r.jsx)("div",{children:(0,r.jsx)("img",{alt:"Plantala Logo",src:"/images/".concat(s,"logo.svg"),width:60,height:60})})}),(0,r.jsx)(c.Z,{variant:"h2",children:"Plantala"})]})})}function l(e){var n=e.children;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u,{}),n]})}},8743:function(e,n,t){"use strict";t.d(n,{zJ:function(){return u},Li:function(){return l},uN:function(){return d},Pr:function(){return f}});var r=t(2809),a=t(4671),i=t(8597),c=t(8607);function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var u=5,l=".webp",d="_Lehrtafel.webp",f="_vektor.svg";var m=(0,a.Z)((0,i.tJ)((function(e,n){return{mediaPath:c.O.isMaaS?"":"plants/",media:c.O.images,imageMultiplier:1,colorMode:!0,getSelectedElements:function(){return n().media.filter((function(e){return!0===e.selected})).sort((function(e,n){return e.order-n.order}))},selectElement:function(t){return e((function(e){return{media:e.media.map((function(e){return e.name!==t.name?e:s(s({},e),{},{selected:!0,order:n().getSelectedElements().length+1})}))}}))},deselectElement:function(n){return e((function(e){return{media:e.media.map((function(e){return e.name!==n.name?function(e){return e.selected?s(s({},e),{},{order:1===e.order?1:e.order-1}):e}(e):s(s({},e),{},{selected:!1,order:0})}))}}))},getActiveElement:function(){return n().media.find((function(e){return!0===e.active}))},activateElement:function(n){return e((function(e){return{media:e.media.map((function(e){return e.name!==n.name?s(s({},e),{},{active:!1}):s(s({},e),{},{active:!0})}))}}))},transformElement:function(t,a){return e((function(e){return{media:e.media.map((function(e){return e.name!==n().getActiveElement().name?e:s(s({},e),{},(0,r.Z)({},t,a))}))}}))},resetElements:function(){return e((function(e){return{media:e.media.map((function(e){return s(s({},e),{},{selected:!1})}))}}))}}}),{name:"media-storage"}));n.ZP=m},1945:function(e,n,t){"use strict";var r=t(5893),a=t(2809),i=t(1749),c=t(1120),o=t(9964),s=(0,c.Z)((function(e){return{canvas:(0,a.Z)({maxWidth:"95vw",padding:e.spacing(2)},e.breakpoints.up("md"),{maxWidth:"50vw"})}}));n.Z=function(){var e=s(),n=(0,o.$)(),t=n.canvasRef,a=n.canvasWidth,c=n.canvasHeight;return(0,r.jsx)(i.Z,{container:!0,justifyContent:"center",children:(0,r.jsx)("canvas",{ref:t,id:"plantalaCanvas",className:e.canvas,width:a,height:c})})}},9964:function(e,n,t){"use strict";t.d(n,{$:function(){return l}});var r=t(7294),a=t(8743),i=a.ZP.getState().imageMultiplier,c=800,o=800;function s(e){var n=e.amount,t=void 0===n?4+2*e.order:n,r=e.rotation,a=void 0===r?0:r,c=e.scale,o=void 0===c?1:c,s=e.size,u=void 0===s?100*i:s;return{amount:t,distance:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:75,n=arguments.length>1?arguments[1]:void 0;return e*n*i}(e.distance,e.order),rotation:a,step:Math.ceil(360/t),scale:o,size:u}}function u(e,n){for(var t=a.ZP.getState().mediaPath,r=a.ZP.getState().colorMode,u=s(n),l=u.amount,d=u.distance,f=u.rotation,m=u.step,h=u.scale,v=u.size,p=r?a.Li:a.Pr,g=function(r){var a=function(e,n,t){var r=e/(n/2)*Math.PI;return{imageX:t*Math.cos(r)+c*i/2,imageY:t*Math.sin(r)+o*i/2}}(r,l,d),s=a.imageX,u=a.imageY,g=function(e,n,t){return n+t*e*Math.PI/180}(r,f,m),j=new Image;j.onload=function(){e.setTransform(h,0,0,h,s,u),e.rotate(g),e.drawImage(j,-v/2,-v/2,v,v)},j.src="/images/".concat(t).concat(n.source).concat(p)},j=0;j<l;j++)g(j)}function l(){var e=(0,r.useRef)(null),n=(0,a.ZP)(),t=n.colorMode,i=n.getSelectedElements,s=n.imageMultiplier,l=n.media;return(0,r.useEffect)((function(){if(l.length>0&&e.current){var n=e.current.getContext("2d");n&&(n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,c*s,o*s),i().forEach((function(e){u(n,e)})))}}),[t,i,s,l]),{canvasRef:e,canvasWidth:c,canvasHeight:o}}},9834:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return W}});var r=t(5893),a=t(9744),i=t(3758),c=t(428),o=t(1685);function s(){return(0,r.jsx)(o.Z,{href:"/",children:(0,r.jsxs)(i.Z,{variant:"extended",color:"primary","aria-label":"replay",children:[(0,r.jsx)(c.Z,{}),"Noch mal ganz von vorn"]})})}var u=t(2809),l=t(1749),d=t(1120),f=t(2318),m=t(8743),h=t(9964),v=t(6562),p=t(1559);function g(){return(0,r.jsx)(v.Z,{children:(0,r.jsx)(f.Z,{component:"div",children:(0,r.jsxs)(l.Z,{component:"label",container:!0,alignItems:"center",spacing:1,children:[(0,r.jsx)(l.Z,{item:!0,children:"S/W"}),(0,r.jsx)(l.Z,{item:!0,children:(0,r.jsx)(p.Z,{checked:m.ZP.getState().colorMode,onChange:function(){m.ZP.setState({colorMode:!m.ZP.getState().colorMode})},name:"colorMode",color:"secondary"})}),(0,r.jsx)(l.Z,{item:!0,children:"Bunt"})]})})})}var j=t(809),x=t.n(j),Z=t(266),y=t(7294),P=t(282),w=t(7116),b=t(8216),O=t(5997),E=t(2125),M=t(3622),k=t(2953),_=t(1945);function C(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,k.Z)(e);if(n){var a=(0,k.Z)(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return(0,M.Z)(this,t)}}var S=function(e){(0,E.Z)(t,e);var n=C(t);function t(){return(0,b.Z)(this,t),n.apply(this,arguments)}return(0,O.Z)(t,[{key:"render",value:function(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(_.Z,{})})}}]),t}(y.PureComponent);function R(){return(R=(0,Z.Z)(x().mark((function e(){var n,t,r,a,i;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.getElementById("plantalaCanvas"),t=n.toDataURL(),e.next=4,fetch(t);case 4:return e.next=6,e.sent.blob();case 6:r=e.sent,a=[new File([r],"Plantala_".concat((new Date).getTime(),".png"),{type:r.type,lastModified:(new Date).getTime()})],i={files:a},navigator.share&&navigator.share(i).then((function(){return alert("success")})).catch((function(e){return alert(e)})),alert("not supported");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=function(){var e=(0,y.useRef)(),n=(0,w.useReactToPrint)({content:function(){return e.current}});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{style:{display:"none"},children:(0,r.jsx)(S,{ref:e})}),(0,r.jsxs)(l.Z,{container:!0,spacing:2,justifyContent:"center",children:[(0,r.jsx)(l.Z,{item:!0,children:(0,r.jsx)(P.Z,{variant:"contained",color:"secondary",onClick:function(){return function(){return R.apply(this,arguments)}()},children:"Teilen"})}),(0,r.jsx)(l.Z,{item:!0,children:(0,r.jsx)(P.Z,{variant:"outlined",color:"secondary",onClick:n,children:"Drucken"})})]})]})},D=(0,d.Z)((function(e){return{main:{position:"relative",backgroundColor:e.palette.primary.main,color:e.palette.text.primary,padding:e.spacing(2)},canvas:(0,u.Z)({maxWidth:"95vw",padding:e.spacing(2)},e.breakpoints.up("md"),{maxWidth:"50vw"})}})),T=function(){var e=D(),n=(0,h.$)(),t=n.canvasRef,a=n.canvasWidth,i=n.canvasHeight,c=(0,m.ZP)().imageMultiplier;return(0,r.jsxs)(l.Z,{container:!0,justifyContent:"center",children:[(0,r.jsx)(l.Z,{item:!0,xs:12,className:e.main,children:(0,r.jsx)(f.Z,{variant:"h4",paragraph:!0,children:"Teile dein pers\xf6nliches Plantala oder drucke es aus!"})}),(0,r.jsx)(l.Z,{item:!0,xs:12,sm:6,container:!0,justifyContent:"center",className:e.main,children:(0,r.jsx)(g,{})}),(0,r.jsx)(l.Z,{item:!0,xs:12,sm:6,className:e.main,children:(0,r.jsx)(N,{})}),(0,r.jsx)(l.Z,{item:!0,xs:12,container:!0,justifyContent:"center",children:(0,r.jsx)("canvas",{ref:t,className:e.canvas,width:a*c,height:i*c})})]})};function W(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(T,{}),(0,r.jsx)(s,{})]})}W.getLayout=function(e){return(0,r.jsx)(a.Z,{children:e})}},1158:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/share",function(){return t(9834)}])}},function(e){e.O(0,[368,344,589,774,888,179],(function(){return n=1158,e(e.s=n);var n}));var n=e.O();_N_E=n}]);